# HotkeysTarget2

##### Migrating from [HotkeysTarget](#core/legacy/hotkeys-legacy)?

**HotkeysTarget2** is a replacement for HotkeysTarget. You are encouraged to use this new API, or
the `useHotkeys` hook directly in your function components, as they will become the standard
APIs in a future major version of Blueprint. See the full
[migration guide](https://github.com/palantir/blueprint/wiki/HotkeysTarget-&-useHotkeys-migration) on the wiki.

The **HotkeysTarget2** component is a utility component which allows you to use the
[`useHotkeys` hook](#core/hooks/use-hotkeys) inside a React component class. It's useful if you want to switch to the
new hotkeys API without refactoring your class components into functional components.

Focus on the piano below to try its hotkeys. The global hotkeys dialog can be shown using the `?` key.

#### Click here to start this WebAudio-based interactive example

[View source on GitHub](https://github.com/palantir/blueprint/blob/develop/packages/docs-app/src/examples/core-examples/hotkeysTarget2Example.tsx)

## Usage

First, make sure [**HotkeysProvider**](#core/context/hotkeys-provider) is configured correctly at the root of your
React application.

Then, to register hotkeys and generate the relevant event handlers, use the component like so:

```
import * as React from "react";  
import { HotkeysTarget2, InputGroup } from "@blueprintjs/core";  
  
export default class extends React.PureComponent {  
    private inputRef = React.createRef<HTMLInputElement>();  
  
    private hotkeys = [  
        {  
            combo: "R",  
            global: true,  
            label: "Refresh data",  
            onKeyDown: () => console.info("Refreshing data..."),  
        },  
        {  
            combo: "F",  
            group: "Input",  
            label: "Focus text input",  
            onKeyDown: this.inputRef.current?.focus(),  
        },  
    ];  
  
    public render() {  
        return (  
            <HotkeysTarget2 hotkeys={this.hotkeys}>  
                {({ handleKeyDown, handleKeyUp }) => (  
                    <div tabIndex={0} onKeyDown={handleKeyDown} onKeyUp={handleKeyUp}>  
                        Press "R" to refresh data, "F" to focus the input...  
                        <InputGroup inputRef={this.inputRef} />  
                    </div>  
                )}  
            </HotkeysTarget2>  
        );  
    }  
}  

```

Hotkeys must define a group, or be marked as global. The component will automatically bind global event handlers
and configure the `?` key to open the generated hotkeys dialog, but it is up to you to bind *local*
event handlers with the `handleKeyDown` and `handleKeyUp` functions in the child render function. Note that
you will likely have to set a non-negative `tabIndex` on the DOM node to which these local event handlers are
bound for them to work correctly.

See the [useHotkeys hook documentation](#core/hooks/use-hotkeys.key-combos) to understand the semantics of "key combos":
how they are configured and how they will appear in the global dialog.

## Props interface

interface HotkeysTarget2Props

[@blueprintjs/core](https://github.com/palantir/blueprint/blob/d356c8eea/packages/core/src/components/hotkeys/hotkeysTarget2.tsx#L29)

| Props | Description |
| --- | --- |
| `children` | `Element | (props: HotkeysTarget2RenderProps) => Element<>` Render prop which receives the same callback handlers generated by the `useHotkeys` hook. If your hotkey definitions are all global, you may supply an element instead.  Required |
| `hotkeys` | `readonly HotkeyConfig[]` Hotkey definitions.  Required |
| `options` | `UseHotkeysOptions` Hook customization options. |

interface UseHotkeysOptions

[@blueprintjs/core](https://github.com/palantir/blueprint/blob/d356c8eea/packages/core/src/hooks/hotkeys/useHotkeys.ts#L26)

| Props | Description |
| --- | --- |
| `document` | `Documentwindow.document` A custom document to reference when binding global event handlers. This can be useful when using iframes in an application. |
| `showDialogKeyCombo` | `string"?"` The key combo which will trigger the hotkeys dialog to open. |

## Hotkey configuration

interface HotkeyConfig

[@blueprintjs/core](https://github.com/palantir/blueprint/blob/d356c8eea/packages/core/src/hooks/hotkeys/hotkeyConfig.ts#L17)

| Props | Description |
| --- | --- |
| `allowInInput` | `booleanfalse` Whether the hotkey should be triggerable when focused in a text input. |
| `combo` | `string` Hotkey combination string (AKA "key combo"), such as "space" or "cmd+n".  Required |
| `disabled` | `booleanfalse` Whether the hotkey cannot be triggered. |
| `global` | `booleanfalse` If `false`, the hotkey is active only when the target is focused. If `true`, the hotkey can be triggered regardless of what component is focused. |
| `group` | `string` Unless the hotkey is global, you must specify a group where the hotkey will be displayed in the hotkeys dialog. This string will be displayed in a header at the start of the group of hotkeys. |
| `label` | `ReactNode` Human-friendly label for the hotkey.  Required |
| `onKeyDown` | `(e: KeyboardEvent) => any` `keydown` event handler. |
| `onKeyUp` | `(e: KeyboardEvent) => any` `keyup` event handler. |
| `preventDefault` | `booleanfalse` When `true`, invokes `event.preventDefault()` before the respective `onKeyDown` and `onKeyUp` callbacks are invoked. Enabling this can simplify handler implementations. |
| `stopPropagation` | `booleanfalse` When `true`, invokes `event.stopPropagation()` before the respective `onKeyDown` and `onKeyUp` callbacks are invoked. Enabling this can simplify handler implementations. |