// ==========================================================================
// TEXT SELECTION UTILITIES
// ==========================================================================

@use '../abstracts' as *;

// Default Selection Styles
// ==========================================================================

::selection {
  background-color: rgba($color-primary, 0.2);
  color: inherit;
  text-shadow: none;
}

::selection {
  background-color: rgba($color-primary, 0.2);
  color: inherit;
  text-shadow: none;
}

// Dark Theme Selection
// ==========================================================================

.bp5-dark {
  ::selection {
    background-color: rgba($color-primary, 0.4);
    color: $color-dark-text;
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.4);
    color: $color-dark-text;
  }
}

// Chat-specific Selection Styles
// ==========================================================================

// Chat messages
.chat-message {
  ::selection {
    background-color: rgba($color-primary, 0.15);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.15);
    color: inherit;
  }
}

// Own messages (different selection color)
.message-own {
  ::selection {
    background-color: rgb(white, 0.3);
    color: inherit;
  }
  
  ::selection {
    background-color: rgb(white, 0.3);
    color: inherit;
  }
}

// Code blocks in messages
.message-code {
  ::selection {
    background-color: rgba($color-warning, 0.3);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-warning, 0.3);
    color: inherit;
  }
}

// Links in messages
.message-link {
  ::selection {
    background-color: rgba($color-info, 0.3);
    color: white;
  }
  
  ::selection {
    background-color: rgba($color-info, 0.3);
    color: white;
  }
}

// Sidebar Selection
// ==========================================================================

.chat-sidebar {
  ::selection {
    background-color: rgba($color-primary, 0.1);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.1);
    color: inherit;
  }
}

// Input Fields Selection
// ==========================================================================

.message-input {
  ::selection {
    background-color: rgba($color-primary, 0.2);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.2);
    color: inherit;
  }
}

// Search Results Selection
// ==========================================================================

.search-result {
  ::selection {
    background-color: rgba($color-warning, 0.2);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-warning, 0.2);
    color: inherit;
  }
}

// Highlighted Search Terms
.search-highlight {
  ::selection {
    background-color: rgba($color-success, 0.3);
    color: white;
  }
  
  ::selection {
    background-color: rgba($color-success, 0.3);
    color: white;
  }
}

// User Names Selection
// ==========================================================================

.username {
  ::selection {
    background-color: rgba($color-info, 0.2);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-info, 0.2);
    color: inherit;
  }
}

// Timestamps Selection
// ==========================================================================

.timestamp {
  ::selection {
    background-color: rgba($color-gray-400, 0.3);
    color: inherit;
  }
  
  ::selection {
    background-color: rgba($color-gray-400, 0.3);
    color: inherit;
  }
}

// Utility Classes for Custom Selection
// ==========================================================================

.select-primary {
  ::selection {
    background-color: rgba($color-primary, 0.3);
    color: white;
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.3);
    color: white;
  }
}

.select-success {
  ::selection {
    background-color: rgba($color-success, 0.3);
    color: white;
  }
  
  ::selection {
    background-color: rgba($color-success, 0.3);
    color: white;
  }
}

.select-warning {
  ::selection {
    background-color: rgba($color-warning, 0.3);
    color: black;
  }
  
  ::selection {
    background-color: rgba($color-warning, 0.3);
    color: black;
  }
}

.select-danger {
  ::selection {
    background-color: rgba($color-danger, 0.3);
    color: white;
  }
  
  ::selection {
    background-color: rgba($color-danger, 0.3);
    color: white;
  }
}

.select-none {
  user-select: none;
  
  ::selection {
    background: transparent;
  }
  
  ::selection {
    background: transparent;
  }
}

.select-all {
  user-select: all;
}

.select-text {
  user-select: text;
}

// Disable Selection for UI Elements
// ==========================================================================

button,
.button,
.btn,
.chat-avatar,
.status-indicator,
.emoji-reaction,
.menu-item,
.toolbar-item {
  user-select: none;
  
  ::selection {
    background: transparent;
  }
  
  ::selection {
    background: transparent;
  }
}

// Enable Selection for Content Areas
// ==========================================================================

.message-content,
.chat-input,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
textarea,
[contenteditable] {
  user-select: text;
}

// Selection Behavior for Different States
// ==========================================================================

// Disabled elements
[disabled],
.disabled {
  user-select: none;
  
  ::selection {
    background: transparent;
  }
  
  ::selection {
    background: transparent;
  }
}

// Loading elements
.loading,
.is-loading {
  user-select: none;
  
  ::selection {
    background: transparent;
  }
  
  ::selection {
    background: transparent;
  }
}

// High Contrast Mode Adjustments
// ==========================================================================

@media (prefers-contrast: high) {
  ::selection {
    background-color: black;
    color: white;
  }
  
  ::selection {
    background-color: black;
    color: white;
  }
  
  .bp5-dark {
    ::selection {
      background-color: white;
      color: black;
    }
    
    ::selection {
      background-color: white;
      color: black;
    }
  }
}

// Print Mode Selection
// ==========================================================================

@media print {
  ::selection {
    background-color: black;
    color: white;
  }
  
  ::selection {
    background-color: black;
    color: white;
  }
}

// Accessibility: Focus and Selection
// ==========================================================================

// Ensure selection is visible when element is focused
*:focus {
  ::selection {
    background-color: rgba($color-primary, 0.4);
  }
  
  ::selection {
    background-color: rgba($color-primary, 0.4);
  }
}

// Reduce motion for selection animations
@media (prefers-reduced-motion: reduce) {
  ::selection {
    transition: none;
  }
  
  ::selection {
    transition: none;
  }
} 